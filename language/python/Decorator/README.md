
# Python装饰器实例

## 背景
曾经做了一个工具，基于 **Bottle** 框架实现，提供 Web 接口供其他程序调用，其中需要检查每个接口传入的参数是否合法，最终采用装饰器完成参数检查。

#### 使用装饰器带来的好处
- 代码简洁
- 参数检查灵活、方便
- 易于扩展和修改


## 本实例说明
笔者参考了 [Python装饰器实例：调用参数合法性验证](http://www.cnblogs.com/huxi/archive/2011/03/31/2001522.html) 一文，对其代码修改之后用到了自己的项目中，顺利完成需要的功能。

#### 作者原始实现及其测试用例
- `validator.py`
- `test_validator.py`

#### 我修改之后的代码及其新功能的测试用例
- `validator_diy.py`
- `test_validator_diy.py`

#### 修改带来的好处
- 在参数检查失败的情况下抛出异常
- 异常中包含失败的原因
- Bottle 服务端对其捕获，并返回给调用者，方便调试和修改


